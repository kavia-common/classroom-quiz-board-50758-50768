{"is_source_file": true, "format": "Python (Django models)", "description": "This file defines data models for a quiz application, including models for quizzes, questions, quiz sessions, teams, and score events.", "external_files": ["django.db.models", "django.utils.timezone"], "external_methods": ["timezone.now", "models.CharField", "models.TextField", "models.DateTimeField", "models.PositiveIntegerField", "models.IntegerField", "models.BooleanField"], "published": ["Quiz", "Question", "QuizSession", "Team", "ScoreEvent"], "classes": [{"name": "Quiz", "description": "Represents a quiz which contains ordered questions."}, {"name": "Question", "description": "A single question belonging to a quiz."}, {"name": "QuizSession", "description": "An instance of running a quiz, holds current state and timers."}, {"name": "Team", "description": "Teams in a given session (Team A/B)."}, {"name": "ScoreEvent", "description": "Audit trail of scoring operations."}], "methods": [{"name": "str __str__(self)", "description": "String representation of the model instances, typically used for debugging or display.", "scope": "Team", "scopeKind": "class"}, {"name": "int recalc_remaining(self)", "description": "Recalculate remaining seconds based on timer_started_at and running flag.", "scope": "QuizSession", "scopeKind": "class"}, {"name": "set_timer(self, total_seconds: int, mode: str = 'question')", "description": "Configure timer total and reset remaining to total.", "scope": "QuizSession", "scopeKind": "class"}, {"name": "start_timer(self)", "description": "Start or resume timer based on remaining snapshot.", "scope": "QuizSession", "scopeKind": "class"}, {"name": "pause_timer(self)", "description": "Pause timer and persist remaining snapshot.", "scope": "QuizSession", "scopeKind": "class"}, {"name": "reset_timer(self)", "description": "Reset timer to total and stop.", "scope": "QuizSession", "scopeKind": "class"}, {"name": "get_current_question(self)", "description": "Retrieve the current question in the quiz based on index.", "scope": "QuizSession", "scopeKind": "class"}], "calls": ["timezone.now", "self.quiz.questions.all()", "qs.count()", "qs[self.current_question_index]"], "search-terms": ["quiz model", "question ordering", "timer management", "session state", "score tracking", "django models"], "state": 2, "file_id": 7, "knowledge_revision": 39, "git_revision": "066d88dd80509320aac67cc3fca3de540d467c71", "revision_history": [{"27": "066d88dd80509320aac67cc3fca3de540d467c71"}, {"39": "066d88dd80509320aac67cc3fca3de540d467c71"}], "ctags": [{"_type": "tag", "name": "Meta", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^    class Meta:$/", "language": "Python", "kind": "class", "scope": "Question", "scopeKind": "class"}, {"_type": "tag", "name": "Meta", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^    class Meta:$/", "language": "Python", "kind": "class", "scope": "Team", "scopeKind": "class"}, {"_type": "tag", "name": "Question", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^class Question(models.Model):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Quiz", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^class Quiz(models.Model):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "QuizSession", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^class QuizSession(models.Model):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "ScoreEvent", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^class ScoreEvent(models.Model):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Team", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^class Team(models.Model):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__str__", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^    def __str__(self) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "member", "signature": "(self)", "scope": "Question", "scopeKind": "class"}, {"_type": "tag", "name": "__str__", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^    def __str__(self) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "member", "signature": "(self)", "scope": "Quiz", "scopeKind": "class"}, {"_type": "tag", "name": "__str__", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^    def __str__(self) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "member", "signature": "(self)", "scope": "ScoreEvent", "scopeKind": "class"}, {"_type": "tag", "name": "__str__", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^    def __str__(self) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "member", "signature": "(self)", "scope": "Team", "scopeKind": "class"}, {"_type": "tag", "name": "answer", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^    answer = models.TextField(blank=True, default='')$/", "language": "Python", "kind": "variable", "scope": "Question", "scopeKind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^    created_at = models.DateTimeField(auto_now_add=True)$/", "language": "Python", "kind": "variable", "scope": "Quiz", "scopeKind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^    created_at = models.DateTimeField(auto_now_add=True)$/", "language": "Python", "kind": "variable", "scope": "QuizSession", "scopeKind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^    created_at = models.DateTimeField(auto_now_add=True)$/", "language": "Python", "kind": "variable", "scope": "ScoreEvent", "scopeKind": "class"}, {"_type": "tag", "name": "current_question_index", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^    current_question_index = models.IntegerField(default=0)$/", "language": "Python", "kind": "variable", "scope": "QuizSession", "scopeKind": "class"}, {"_type": "tag", "name": "delta", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^    delta = models.IntegerField()$/", "language": "Python", "kind": "variable", "scope": "ScoreEvent", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^    description = models.TextField(blank=True, default='')$/", "language": "Python", "kind": "variable", "scope": "Quiz", "scopeKind": "class"}, {"_type": "tag", "name": "get_current_question", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^    def get_current_question(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "QuizSession", "scopeKind": "class"}, {"_type": "tag", "name": "is_active", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^    is_active = models.BooleanField(default=False)$/", "language": "Python", "kind": "variable", "scope": "QuizSession", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^    name = models.CharField(max_length=100)$/", "language": "Python", "kind": "variable", "scope": "Team", "scopeKind": "class"}, {"_type": "tag", "name": "order", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^    order = models.PositiveIntegerField(default=0)$/", "language": "Python", "kind": "variable", "scope": "Question", "scopeKind": "class"}, {"_type": "tag", "name": "ordering", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^        ordering = ['order']$/", "language": "Python", "kind": "variable", "scope": "Question.Meta", "scopeKind": "class"}, {"_type": "tag", "name": "pause_timer", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^    def pause_timer(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "QuizSession", "scopeKind": "class"}, {"_type": "tag", "name": "quiz", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^    quiz = models.ForeignKey(Quiz, related_name='questions', on_delete=models.CASCADE)$/", "language": "Python", "kind": "variable", "scope": "Question", "scopeKind": "class"}, {"_type": "tag", "name": "quiz", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^    quiz = models.ForeignKey(Quiz, related_name='sessions', on_delete=models.CASCADE)$/", "language": "Python", "kind": "variable", "scope": "QuizSession", "scopeKind": "class"}, {"_type": "tag", "name": "reason", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^    reason = models.CharField(max_length=255, blank=True, default='')$/", "language": "Python", "kind": "variable", "scope": "ScoreEvent", "scopeKind": "class"}, {"_type": "tag", "name": "recalc_remaining", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^    def recalc_remaining(self) -> int:$/", "language": "Python", "typeref": "typename:int", "kind": "member", "signature": "(self)", "scope": "QuizSession", "scopeKind": "class"}, {"_type": "tag", "name": "reset_timer", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^    def reset_timer(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "QuizSession", "scopeKind": "class"}, {"_type": "tag", "name": "reveal_answer", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^    reveal_answer = models.BooleanField(default=False)$/", "language": "Python", "kind": "variable", "scope": "Question", "scopeKind": "class"}, {"_type": "tag", "name": "score", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^    score = models.IntegerField(default=0)$/", "language": "Python", "kind": "variable", "scope": "Team", "scopeKind": "class"}, {"_type": "tag", "name": "session", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^    session = models.ForeignKey(QuizSession, related_name='score_events', on_delete=models.CASCA/", "language": "Python", "kind": "variable", "scope": "ScoreEvent", "scopeKind": "class"}, {"_type": "tag", "name": "session", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^    session = models.ForeignKey(QuizSession, related_name='teams', on_delete=models.CASCADE)$/", "language": "Python", "kind": "variable", "scope": "Team", "scopeKind": "class"}, {"_type": "tag", "name": "set_timer", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^    def set_timer(self, total_seconds: int, mode: str = 'question'):$/", "language": "Python", "kind": "member", "signature": "(self, total_seconds: int, mode: str = 'question')", "scope": "QuizSession", "scopeKind": "class"}, {"_type": "tag", "name": "start_timer", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^    def start_timer(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "QuizSession", "scopeKind": "class"}, {"_type": "tag", "name": "started_at", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^    started_at = models.DateTimeField(null=True, blank=True)$/", "language": "Python", "kind": "variable", "scope": "QuizSession", "scopeKind": "class"}, {"_type": "tag", "name": "team", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^    team = models.ForeignKey(Team, related_name='events', on_delete=models.CASCADE)$/", "language": "Python", "kind": "variable", "scope": "ScoreEvent", "scopeKind": "class"}, {"_type": "tag", "name": "text", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^    text = models.TextField()$/", "language": "Python", "kind": "variable", "scope": "Question", "scopeKind": "class"}, {"_type": "tag", "name": "timer_mode", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^    timer_mode = models.CharField(max_length=32, default='question')  # 'question' or 'quiz'$/", "language": "Python", "kind": "variable", "scope": "QuizSession", "scopeKind": "class"}, {"_type": "tag", "name": "timer_remaining_seconds", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^    timer_remaining_seconds = models.IntegerField(default=0)  # snapshot when paused or last cal/", "language": "Python", "kind": "variable", "scope": "QuizSession", "scopeKind": "class"}, {"_type": "tag", "name": "timer_running", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^    timer_running = models.BooleanField(default=False)$/", "language": "Python", "kind": "variable", "scope": "QuizSession", "scopeKind": "class"}, {"_type": "tag", "name": "timer_started_at", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^    timer_started_at = models.DateTimeField(null=True, blank=True)$/", "language": "Python", "kind": "variable", "scope": "QuizSession", "scopeKind": "class"}, {"_type": "tag", "name": "timer_total_seconds", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^    timer_total_seconds = models.IntegerField(default=0)  # configured total length for question/", "language": "Python", "kind": "variable", "scope": "QuizSession", "scopeKind": "class"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^    title = models.CharField(max_length=255)$/", "language": "Python", "kind": "variable", "scope": "Quiz", "scopeKind": "class"}, {"_type": "tag", "name": "unique_together", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^        unique_together = ('quiz', 'order')$/", "language": "Python", "kind": "variable", "scope": "Question.Meta", "scopeKind": "class"}, {"_type": "tag", "name": "unique_together", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^        unique_together = ('session', 'name')$/", "language": "Python", "kind": "variable", "scope": "Team.Meta", "scopeKind": "class"}, {"_type": "tag", "name": "updated_at", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/models.py", "pattern": "/^    updated_at = models.DateTimeField(auto_now=True)$/", "language": "Python", "kind": "variable", "scope": "QuizSession", "scopeKind": "class"}], "hash": "87a7feafc7563b1c93c264fbc53e837f", "format-version": 4, "code-base-name": "quiz_backend", "filename": "quiz_backend/api/models.py", "fields": [{"name": "answer = models.TextField(blank=True, default='')", "scope": "Question", "scopeKind": "class", "description": "unavailable"}, {"name": "created_at = models.DateTimeField(auto_now_add=True)", "scope": "Quiz", "scopeKind": "class", "description": "unavailable"}, {"name": "current_question_index = models.IntegerField(default=0)", "scope": "QuizSession", "scopeKind": "class", "description": "unavailable"}, {"name": "delta = models.IntegerField()", "scope": "ScoreEvent", "scopeKind": "class", "description": "unavailable"}, {"name": "description = models.TextField(blank=True, default='')", "scope": "Quiz", "scopeKind": "class", "description": "unavailable"}, {"name": "is_active = models.BooleanField(default=False)", "scope": "QuizSession", "scopeKind": "class", "description": "unavailable"}, {"name": "name = models.CharField(max_length=100)", "scope": "Team", "scopeKind": "class", "description": "unavailable"}, {"name": "order = models.PositiveIntegerField(default=0)", "scope": "Question", "scopeKind": "class", "description": "unavailable"}, {"name": "ordering = ['order']", "scope": "Question.Meta", "scopeKind": "class", "description": "unavailable"}, {"name": "quiz = models.ForeignKey(Quiz, related_name='questions', on_delete=models.CASCADE)", "scope": "Question", "scopeKind": "class", "description": "unavailable"}, {"name": "quiz = models.ForeignKey(Quiz, related_name='sessions', on_delete=models.CASCADE)", "scope": "QuizSession", "scopeKind": "class", "description": "unavailable"}, {"name": "reason = models.CharField(max_length=255, blank=True, default='')", "scope": "ScoreEvent", "scopeKind": "class", "description": "unavailable"}, {"name": "reveal_answer = models.BooleanField(default=False)", "scope": "Question", "scopeKind": "class", "description": "unavailable"}, {"name": "score = models.IntegerField(default=0)", "scope": "Team", "scopeKind": "class", "description": "unavailable"}, {"name": "session = models.ForeignKey(QuizSession, related_name='score_events', on_delete=models.CASCA/", "scope": "ScoreEvent", "scopeKind": "class", "description": "unavailable"}, {"name": "session = models.ForeignKey(QuizSession, related_name='teams', on_delete=models.CASCADE)", "scope": "Team", "scopeKind": "class", "description": "unavailable"}, {"name": "started_at = models.DateTimeField(null=True, blank=True)", "scope": "QuizSession", "scopeKind": "class", "description": "unavailable"}, {"name": "team = models.ForeignKey(Team, related_name='events', on_delete=models.CASCADE)", "scope": "ScoreEvent", "scopeKind": "class", "description": "unavailable"}, {"name": "text = models.TextField()", "scope": "Question", "scopeKind": "class", "description": "unavailable"}, {"name": "timer_mode = models.CharField(max_length=32, default='question')  # 'question' or 'quiz'", "scope": "QuizSession", "scopeKind": "class", "description": "unavailable"}, {"name": "timer_remaining_seconds = models.IntegerField(default=0)  # snapshot when paused or last cal/", "scope": "QuizSession", "scopeKind": "class", "description": "unavailable"}, {"name": "timer_running = models.BooleanField(default=False)", "scope": "QuizSession", "scopeKind": "class", "description": "unavailable"}, {"name": "timer_started_at = models.DateTimeField(null=True, blank=True)", "scope": "QuizSession", "scopeKind": "class", "description": "unavailable"}, {"name": "timer_total_seconds = models.IntegerField(default=0)  # configured total length for question/", "scope": "QuizSession", "scopeKind": "class", "description": "unavailable"}, {"name": "title = models.CharField(max_length=255)", "scope": "Quiz", "scopeKind": "class", "description": "unavailable"}, {"name": "unique_together = ('quiz', 'order')", "scope": "Question.Meta", "scopeKind": "class", "description": "unavailable"}, {"name": "unique_together = ('session', 'name')", "scope": "Team.Meta", "scopeKind": "class", "description": "unavailable"}, {"name": "updated_at = models.DateTimeField(auto_now=True)", "scope": "QuizSession", "scopeKind": "class", "description": "unavailable"}]}