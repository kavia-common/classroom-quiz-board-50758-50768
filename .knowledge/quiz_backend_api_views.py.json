{"is_source_file": true, "format": "Python (Django REST Framework)", "description": "This file defines API views for a quiz backend, handling endpoints for health check, quizzes, quiz details, session management, question navigation, answer reveal, timer controls, and team scoring. It interacts with models such as Quiz, Question, QuizSession, Team, and ScoreEvent, and utilizes serializers for data serialization.", "external_files": ["django.db", "django.shortcuts", "django.utils", "rest_framework.decorators", "rest_framework.response", "rest_framework", ".models", ".serializers"], "external_methods": ["transaction.atomic", "get_object_or_404", "timezone.now", "api_view", "Response", "status.HTTP_201_CREATED"], "published": ["health", "quizzes", "quiz_detail", "session_start", "session_state", "next_question", "prev_question", "reveal_answer", "timer_configure", "timer_start", "timer_pause", "timer_reset", "score_team_a", "score_team_b"], "classes": [], "methods": [{"name": "_ensure_session_teams(session: QuizSession)", "description": "Ensures that both 'Team A' and 'Team B' exist for a given session, creating them if necessary.", "scope": "", "scopeKind": ""}, {"name": "QuizSession _get_or_create_session(quiz_id: int)", "description": "Retrieves or creates an active QuizSession for a specific quiz ID, ensuring teams are set up.", "scope": "", "scopeKind": ""}, {"name": "QuizSession _move_question(session: QuizSession, delta: int)", "description": "Moves the current question index within session forward or backward based on delta, and resets answer reveal.", "scope": "", "scopeKind": ""}, {"name": "Team _score_delta(session: QuizSession, team_name: str, delta: int, reason: str = '')", "description": "Adjusts the score of a specified team within a session and records the event.", "scope": "", "scopeKind": ""}, {"name": "health(request)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "next_question(request, quiz_id: int)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "prev_question(request, quiz_id: int)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "quiz_detail(request, quiz_id: int)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "quizzes(request)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "reveal_answer(request, quiz_id: int)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "score_team_a(request, quiz_id: int)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "score_team_b(request, quiz_id: int)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "session_start(request, quiz_id: int)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "session_state(request, quiz_id: int)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "timer_configure(request, quiz_id: int)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "timer_pause(request, quiz_id: int)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "timer_reset(request, quiz_id: int)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "timer_start(request, quiz_id: int)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["transaction.atomic", "get_object_or_404", "timezone.now", "Quiz.objects.prefetch_related", "QuizSerializer", "QuizSessionSerializer", "Team.objects.create", "Team.objects.all", "session.refresh_from_db", "session.set_timer", "session.start_timer", "session.pause_timer", "session.reset_timer", "ScoreEvent.objects.create", "session.get_current_question"], "search-terms": ["quiz_backend", "api_views", "session management", "question navigation", "score updates", "timer controls", "teams creation", "quiz detail", "health check"], "state": 2, "file_id": 17, "knowledge_revision": 41, "git_revision": "066d88dd80509320aac67cc3fca3de540d467c71", "revision_history": [{"37": "066d88dd80509320aac67cc3fca3de540d467c71"}, {"41": "066d88dd80509320aac67cc3fca3de540d467c71"}], "ctags": [{"_type": "tag", "name": "_ensure_session_teams", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/views.py", "pattern": "/^def _ensure_session_teams(session: QuizSession):$/", "language": "Python", "kind": "function", "signature": "(session: QuizSession)"}, {"_type": "tag", "name": "_get_or_create_session", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/views.py", "pattern": "/^def _get_or_create_session(quiz_id: int) -> QuizSession:$/", "language": "Python", "typeref": "typename:QuizSession", "kind": "function", "signature": "(quiz_id: int)"}, {"_type": "tag", "name": "_move_question", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/views.py", "pattern": "/^def _move_question(session: QuizSession, delta: int) -> QuizSession:$/", "language": "Python", "typeref": "typename:QuizSession", "kind": "function", "signature": "(session: QuizSession, delta: int)"}, {"_type": "tag", "name": "_score_delta", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/views.py", "pattern": "/^def _score_delta(session: QuizSession, team_name: str, delta: int, reason: str = '') -> Team:$/", "language": "Python", "typeref": "typename:Team", "kind": "function", "signature": "(session: QuizSession, team_name: str, delta: int, reason: str = '')"}, {"_type": "tag", "name": "health", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/views.py", "pattern": "/^def health(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "next_question", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/views.py", "pattern": "/^def next_question(request, quiz_id: int):$/", "language": "Python", "kind": "function", "signature": "(request, quiz_id: int)"}, {"_type": "tag", "name": "prev_question", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/views.py", "pattern": "/^def prev_question(request, quiz_id: int):$/", "language": "Python", "kind": "function", "signature": "(request, quiz_id: int)"}, {"_type": "tag", "name": "quiz_detail", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/views.py", "pattern": "/^def quiz_detail(request, quiz_id: int):$/", "language": "Python", "kind": "function", "signature": "(request, quiz_id: int)"}, {"_type": "tag", "name": "quizzes", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/views.py", "pattern": "/^def quizzes(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "reveal_answer", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/views.py", "pattern": "/^def reveal_answer(request, quiz_id: int):$/", "language": "Python", "kind": "function", "signature": "(request, quiz_id: int)"}, {"_type": "tag", "name": "score_team_a", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/views.py", "pattern": "/^def score_team_a(request, quiz_id: int):$/", "language": "Python", "kind": "function", "signature": "(request, quiz_id: int)"}, {"_type": "tag", "name": "score_team_b", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/views.py", "pattern": "/^def score_team_b(request, quiz_id: int):$/", "language": "Python", "kind": "function", "signature": "(request, quiz_id: int)"}, {"_type": "tag", "name": "session_start", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/views.py", "pattern": "/^def session_start(request, quiz_id: int):$/", "language": "Python", "kind": "function", "signature": "(request, quiz_id: int)"}, {"_type": "tag", "name": "session_state", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/views.py", "pattern": "/^def session_state(request, quiz_id: int):$/", "language": "Python", "kind": "function", "signature": "(request, quiz_id: int)"}, {"_type": "tag", "name": "timer_configure", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/views.py", "pattern": "/^def timer_configure(request, quiz_id: int):$/", "language": "Python", "kind": "function", "signature": "(request, quiz_id: int)"}, {"_type": "tag", "name": "timer_pause", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/views.py", "pattern": "/^def timer_pause(request, quiz_id: int):$/", "language": "Python", "kind": "function", "signature": "(request, quiz_id: int)"}, {"_type": "tag", "name": "timer_reset", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/views.py", "pattern": "/^def timer_reset(request, quiz_id: int):$/", "language": "Python", "kind": "function", "signature": "(request, quiz_id: int)"}, {"_type": "tag", "name": "timer_start", "path": "/home/kavia/workspace/code-generation/classroom-quiz-board-50758-50768/quiz_backend/api/views.py", "pattern": "/^def timer_start(request, quiz_id: int):$/", "language": "Python", "kind": "function", "signature": "(request, quiz_id: int)"}], "hash": "0b7c991735350f58fbd0f464a3259121", "format-version": 4, "code-base-name": "quiz_backend", "filename": "quiz_backend/api/views.py"}